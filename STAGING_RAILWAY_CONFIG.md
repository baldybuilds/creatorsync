# Railway Staging Configuration

This document outlines the environment variables needed for the staging Railway service to work as a QA environment.

## üéØ **Staging Service Configuration**

### **Database Configuration**
```bash
# Use PRODUCTION database connection
DATABASE_URL=<PRODUCTION_DATABASE_URL>
```

### **Clerk Configuration**
```bash
# Use PRODUCTION Clerk environment
CLERK_SECRET_KEY=<PRODUCTION_CLERK_SECRET_KEY>
CLERK_PUBLISHABLE_KEY=<PRODUCTION_CLERK_PUBLISHABLE_KEY>
```

### **Twitch Configuration**
```bash
# Use PRODUCTION Twitch application
TWITCH_CLIENT_ID=<PRODUCTION_TWITCH_CLIENT_ID>
TWITCH_CLIENT_SECRET=<PRODUCTION_TWITCH_CLIENT_SECRET>
```

### **Application Environment**
```bash
# Identify this as staging environment
APP_ENV=staging
PORT=8080
```

### **CORS Configuration**
```bash
# Allow staging frontend domain
CORS_ORIGINS=https://dev.creatorsync.app,http://localhost:3000
```

## üîß **Railway Service Setup**

1. **Create/Update Staging Service**:
   - Service name: `creatorsync-api-staging`
   - Deploy from `staging` branch
   - Use production database connection
   - Use production Clerk credentials

2. **Environment Variables**:
   - Set all variables listed above
   - **Critical**: Use production values for database and Clerk
   - Staging will share the same user data as production

3. **Domain Configuration**:
   - Custom domain: `api-dev.creatorsync.app`
   - SSL certificate: Auto-generated by Railway

## ‚ö†Ô∏è **Important Notes**

1. **Shared Database**: Staging and production share the same database
2. **Same Users**: Production users can log into staging with same credentials
3. **Safe Testing**: New features can be tested with real user data
4. **No Data Sync**: No need for complex data synchronization scripts

## üöÄ **Deployment Process**

1. Push code to `staging` branch
2. Railway automatically deploys to staging service
3. Staging service connects to production database
4. Users can test new features at `api-dev.creatorsync.app` 
